<ng-container class="">
    <div class="filter-overlay hidden md:block">
        <div class="filter filter-md ">
            <ng-container [ngTemplateOutlet]="filter"></ng-container>
        </div>
    </div>
</ng-container>
<!-- block md:hidden -->
<div  class="block md:hidden">
    <div>
        <div class="filter">
            <ng-container [ngTemplateOutlet]="filter"></ng-container>
        </div>
    </div>
</div>

<ng-template #filter>
    <div class="filter-block">
        <div class="filter-header flex flex-1">
            <div class="flex flex-2 flex-row">
                <div class="label">Filters</div>
                <div class="cross-filter cursor-pointer" (click)="applyFilter()">
                    <mat-icon aria-hidden="true" class="ws-mat-default-text mat-icon notranslate material-icons mat-icon-no-color" role="img"> close </mat-icon>
                </div>
            </div>
        </div>
        <div class="filter-content-container">
        <ng-container *ngIf="showAdditionalFilters">
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <!-- (opened)="panelOpenState = true"
                        (closed)="panelOpenState = false" -->
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Content Type
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item" *ngFor="let ctype of primaryCategoryList">
                            <mat-checkbox #checkboxes disableRipple [checked]= "ctype?.checked" class="example-margin" (change)="getFilterType($event, ctype,'primaryCategory')">{{ctype?.name}}</mat-checkbox>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer" ></div>
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <!-- (opened)="panelOpenState = true"
                        (closed)="panelOpenState = false" -->
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Status
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item" *ngFor="let ctype of contentStatus">
                            <mat-checkbox #checkboxes disableRipple class="example-margin"  [checked]= "ctype?.checked" (change)="getFilterType($event, ctype,'status')">{{ctype?.name}}</mat-checkbox>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer" ></div>
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <!-- (opened)="panelOpenState = true"
                        (closed)="panelOpenState = false" -->
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Time duration
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item" >
                            <mat-radio-group aria-label="Select an option">
                                <ng-container *ngFor="let ctype of timeDuration">
                                    <mat-radio-button class="py-2"  (change)="timeDurationFilter(ctype,'timeDuration')" [checked]="ctype.checked" [value]="ctype">{{ctype?.name}}</mat-radio-button><br>
                                </ng-container>
                            </mat-radio-group>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer" ></div>
        </ng-container>
        <div class="filter-content flex flex-1">
            <mat-accordion>
                <!-- (opened)="panelOpenState = true"
                    (closed)="panelOpenState = false" -->
                <mat-expansion-panel disableRipple [expanded]="true">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Competency Area
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="flex flex-1 flex-row category-item" *ngFor="let ctype of competencyTypeList">
                        <mat-checkbox #checkboxes disableRipple [checked]= "ctype?.checked" class="example-margin" (change)="getCompetencyTheme($event, ctype)">{{ctype?.name}}</mat-checkbox>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
            <!-- <div class="spacer"></div>
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header disableRipple [expanded]="true">
                            <mat-panel-title>
                                Competency Type
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item">
                            <mat-checkbox disableRipple class="example-margin">Core</mat-checkbox>
                        </div>
                        <div class="flex flex-1 flex-row category-item">
                            <mat-checkbox disableRipple class="example-margin">Leadership</mat-checkbox>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div> -->
            
            <div class="spacer" *ngIf="competencyThemeList.length"></div>
            <div class="filter-content flex flex-1" *ngIf="competencyThemeList.length">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Competency Theme
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                            <div class="search-container">
                                <div class="rsearch"><mat-icon
                                    class="color-60 search-icon mat-icon notranslate material-icons mat-icon-no-color">search</mat-icon>
                                <input #searchInput id="searchInput" (keyup)="onCompetencyTheme($event)" class="sinput color-60" label="" placeholder="Enter competency theme" type="Standard">
                                </div>
                            </div>
                            <div class="category-content">
                                <div class="flex flex-1 flex-row category-item" *ngFor="let ctitem of competencyThemeList | filterSearch: searchInput.value">
                                    <mat-checkbox #checkboxes [checked]= "ctitem?.checked" disableRipple class="example-margin"  (change)="getCompetencySubTheme($event, ctitem)">{{ctitem?.name}}</mat-checkbox>
                                </div>                                  
                            </div>
                        
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer" *ngIf="competencySubThemeList.length"></div>
            <div class="filter-content flex flex-1" *ngIf="competencySubThemeList.length">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header> 
                            <mat-panel-title>
                                Competency Sub-Theme
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="search-container">
                            <div class="rsearch"><mat-icon
                                class="color-60 search-icon mat-icon notranslate material-icons mat-icon-no-color">search</mat-icon>
                            <input #searchThemeInput class="sinput color-60" (keyup)="onCompetencySubTheme($event)" label="" placeholder="Enter competency sub-theme" type="Standard">
                            </div>
                        </div>
                        <div class="category-content">
                            <div class="flex flex-1 flex-row category-item" *ngFor="let cstitem of competencySubThemeList | filterSearch: searchThemeInput.value">
                                <mat-checkbox #checkboxes disableRipple class="example-margin" [checked]= "cstitem?.checked"   (change)="manageCompetencySubTheme($event, cstitem)">{{cstitem?.name}}</mat-checkbox>
                            </div> 
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer"></div>
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Provider
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="category-content">
                            <div class="flex flex-1 flex-row category-item" *ngFor="let item of providersList">
                                <mat-checkbox #checkboxes disableRipple class="example-margin"  [checked]= "item?.checked" (change)="getFilterType($event, item?.name,'providers')">{{item?.name}}</mat-checkbox>
                            </div>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </div>
        
    </div>
    <div class="filter-footer flex flex-1">
        <div class="flex flex-2 flex-row">
            <div class="filter-clear" (click)="clearFilter()">
                Clear
            </div>
            <div class="filter-apply" (click)="applyFilter()">
                Apply
            </div>
        </div>
    </div>
</ng-template>

<!--   Filter html for new Integrations -->

<!-- <div class="filter-overlay">
    <div class="filter">
        <div class="filter-header flex flex-1">
            <div class="flex flex-2 flex-row">
                <div class="label">Filters</div>
                <div class="cross-filter cursor-pointer" (click)="hideFilter()"><img src="assets/icons/close.svg"></div>
            </div>
        </div>
        <div class="filter-content-container" *ngIf="from === 'content'">
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Competency Area
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item" *ngFor="let ctype of competencyTypeList">
                            <mat-checkbox #checkboxes disableRipple class="example-margin" (change)="getCompetencyTheme($event, ctype)">{{ctype?.name}}</mat-checkbox>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer" *ngIf="competencyThemeList.length"></div>
            <div class="filter-content flex flex-1" *ngIf="competencyThemeList.length">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Competency Theme
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                            <div class="search-container">
                                <div class="rsearch"><mat-icon
                                    class="color-60 search-icon mat-icon notranslate material-icons mat-icon-no-color">search</mat-icon>
                                <input #searchInput class="sinput color-60" label="" [formControl]='searchThemeControl' placeholder="Enter competency theme" type="Standard">
                                </div>
                            </div>
                            <div class="category-content">
                                <div class="flex flex-1 flex-row category-item" *ngFor="let ctitem of competencyThemeList | filterSearch: searchInput.value">
                                    <mat-checkbox #checkboxes disableRipple class="example-margin"  (change)="getCompetencySubTheme($event, ctitem)">{{ctitem?.name}}</mat-checkbox>
                                </div>                               
                            </div>
                        
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer"  *ngIf="competencySubThemeList.length"></div>
            <div class="filter-content flex flex-1" *ngIf="competencySubThemeList.length">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Competency Sub-Theme
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="search-container">
                            <div class="rsearch"><mat-icon
                                class="color-60 search-icon mat-icon notranslate material-icons mat-icon-no-color">search</mat-icon>
                            <input #searchThemeInput class="sinput color-60" label="" placeholder="Enter competency sub-theme" type="Standard">
                            </div>
                        </div>
                        <div class="category-content">
                            <div class="flex flex-1 flex-row category-item" *ngFor="let cstitem of competencySubThemeList | filterSearch: searchThemeInput.value">
                                <mat-checkbox #checkboxes disableRipple class="example-margin"  (change)="manageCompetencySubTheme($event, cstitem)">{{cstitem?.name}}</mat-checkbox>
                            </div> 
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="spacer" *ngIf="providersList.length"></div>
            <div class="filter-content flex flex-1" *ngIf="providersList.length">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Provider
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="category-content">
                            <div class="flex flex-1 flex-row category-item" *ngFor="let item of providersList">
                                <mat-checkbox #checkboxes disableRipple class="example-margin" (change)="checkedProviders($event, item?.name)">{{item?.name}}</mat-checkbox>
                            </div>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </div>
        <div class="filter-content-container" *ngIf="from === 'assignee'">
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Groups
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item" *ngFor="let group of groupList">
                            <mat-checkbox #checkboxes disableRipple class="example-margin" (change)="manageSelectedGroup($event, group)">{{group?.name}}</mat-checkbox>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="filter-content flex flex-1">
                <mat-accordion>
                    <mat-expansion-panel disableRipple [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Designation
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="flex flex-1 flex-row category-item" *ngFor="let des of designationList">
                            <mat-checkbox #checkboxes disableRipple class="example-margin" (change)="manageSelectedDesignation($event, des)">{{des?.name}}</mat-checkbox>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </div>
        <div class="filter-footer flex flex-1">
            <div class="flex flex-2 flex-row">
                <div class="filter-clear" (click)="clearFilter()">
                    Clear
                </div>
                <div class="filter-apply" (click)="applyFilter()">
                    Apply
                </div>
            </div>
        </div>
    </div> -->