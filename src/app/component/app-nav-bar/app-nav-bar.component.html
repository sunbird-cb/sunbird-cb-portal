<ng-container *ngIf="fullMenuDispaly">
  <mat-toolbar *ngIf="sShowAppNavBar && !needToHide && mode == 'top'"
    [color]="primaryNavbarBackground?.color" [ngStyle]="primaryNavbarBackground?.styles"
    class="mat-elevation-z3 custom mobile">
    
    <div class="flex flex-row items-center gap-4 fix-ww" id="root-tool-bar" title="toolbar" i18n-aria-label role="toolbar">
      <ng-container *ngIf="mode === 'top'">
        <a [routerLink]="!isforPreview ? '/page/home' : '/static-home'" class="flex items-center logo-dim" role="link" title="Home"
          i18n-aria-title i18n-aria-label>
          <img [src]="appIcon" alt="Application Logo" class="app-logo" />
        </a>

        <ng-container *ngIf="primaryNavbarConfig?.mediumScreen">
          <ng-container [ngTemplateOutlet]="navbarSide" [ngTemplateOutletContext]="{ item: item }"
            *ngFor="let item of primaryNavbarConfig?.mediumScreen?.left">
          </ng-container>
          <ng-container *ngIf="!isforPreview">
            <ws-app-search-input-home placeHolder="Search for learning contents" class="my-search px-3" [ref]="'home'">
            </ws-app-search-input-home>
          </ng-container>
          <span class="spacer"></span>
          <div *ngIf="!isforPreview" ngClass="search-small-logo">
            <ng-container [wsResolverWidget]="{
              'widgetType': 'actionButton',
              'widgetSubType': 'buttonFeature',
              'widgetData': {
                'toolTop': 'Search',
                'actionBtnId': 'feature_search',
                'config': {
                  'type': 'mat-icon-button'
                }
              }
            }">
            </ng-container>
          </div>
          
          <span *ngIf="!isforPreview" class="spacer"></span>
          
          <ng-container *ngIf="!isforPreview">
            <ng-container [ngTemplateOutlet]="navbarSide" [ngTemplateOutletContext]="{ item: item }"
              *ngFor="let item of primaryNavbarConfig?.mediumScreen?.right">
            </ng-container>
          </ng-container>
          
        </ng-container>
      </ng-container>
    </div>
    
  </mat-toolbar>

  <mat-toolbar *ngIf="sShowAppNavBar && !needToHide && mode === 'bottom'" 
  [color]="primaryNavbarBackground?.color" [ngStyle]="primaryNavbarBackground?.styles"
  class="mat-elevation-z3 custom mobile-footer-fixed-nav">
    <ng-container *ngIf="primaryNavbarConfig?.smallScreen && isLoggedIn">
      <ul class="mobile-footer-fixed-nav-list-item-container">
      <ng-container *ngFor="let item of primaryNavbarConfig?.smallScreen?.all">
        <li class="mobile-footer-fixed-nav-list-item" [routerLink]="item?.config?.path">
          <div class="icon-container">
            <img  [ngClass]="activeRoute === item.label ? 'active-icon': 'mat-icon-disable'" src="/assets/icons/footer-nav/{{item?.config?.icon}}.svg" id="draft" alt="draft" title="draft" />
            <span>{{item?.config?.label | titlecase}}</span>
          </div>
        </li>
      </ng-container>
      </ul>
    </ng-container>
  </mat-toolbar>

  <mat-toolbar *ngIf="!sShowAppNavBar">
    <div class="fix-ww flex flex-row mt-3" id="root-tool-bar" title="toolbar" i18n-aria-label role="toolbar">
      <ng-container *ngIf="mode === 'top'">
        <div class="flex flex-1">
          <a class="logo-dim" role="link" title="Home" i18n-aria-title i18n-aria-label routerLink="/page/home"
            *ngIf="isThisSetUpPage">
            <img [src]="appIcon" alt="Application Logo" class="app-logo" />
          </a>
          <a class="logo-dim" role="link" title="Home" i18n-aria-title i18n-aria-label routerLink="/static-home"
            *ngIf="!isThisSetUpPage && isforPreview">
            <img [src]="appIcon" alt="Application Logo" class="app-logo" />
          </a>
        </div>
      </ng-container>
    </div>
  </mat-toolbar>
</ng-container>

<ng-template #navbarSide let-item="item">
  <div class="flex items-center font-icon" *ngIf="item.type === 'downloadButton'">
    <button class="px-3 py-2 font-semibold text-base border-none cursor-pointer download-app-chip rounded-full" (click)="openDialog()">Download App</button>
  </div>

  <div class="flex items-center font-icon" *ngIf="item.type === 'fontButton'">
    <mat-menu #appMenu="matMenu">
      <span class="smaller-size">A</span>
      <mat-slider min="10" max="18" step="2" value="12" (input)="changeFont($event)">
        <input matSliderThumb>
      </mat-slider>
      <span class="larger-size">A</span>
    </mat-menu>

    <div [matMenuTriggerFor]="appMenu" class="icon-div">
      <img src="/assets/icons/top-nav/Accessibility_icon.svg" alt="accessibility icon" />
    </div>
  </div>

  <div class="flex items-center font-icon" *ngIf="item.type === 'helpButton'" class="icon-div">
    <span class="question-mark">?</span>
  </div>

  <!-- <div class="flex items-center" *ngIf="item.type === 'widgetButton'" [wsResolverWidget]="item.config"></div> -->
</ng-template>

<mat-menu #helpMenu="matMenu">
  <ws-widget-btn-feature [widgetData]="{
    actionBtnId: 'feature_aboutUs',
    config: {
      type: 'mat-menu-item'
    }
  }">
  </ws-widget-btn-feature>
  <ws-widget-btn-feature [widgetData]="{
    actionBtnId: 'channel_how_to',
    config: {
      type: 'mat-menu-item'
    }
  }">
  </ws-widget-btn-feature>
  <ws-widget-btn-feature [widgetData]="{
    actionBtnId: 'feature_FAQs',
    config: {
      type: 'mat-menu-item'
    }
  }">
  </ws-widget-btn-feature>
  <ws-widget-btn-feature [widgetData]="{
    actionBtnId: 'feature_quickTour',
    config: {
      type: 'mat-menu-item'
    }
  }">
  </ws-widget-btn-feature>

  <div mat-menu-item *ngIf="isTourGuideAvailable" (click)="startTour()">
    <mat-icon>help</mat-icon>
    <span class="ml-2">Tour Guide</span>
  </div>
</mat-menu>
