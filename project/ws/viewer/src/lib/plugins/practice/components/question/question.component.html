<mat-card *ngIf="!(question?.questionType === 'mtf' || question?.questionType === 'ftb')"
  class="flex flex-1 respo margin-bottom-m no-shadow">
  <div class="flex flex-column width-100" [ngClass]="mobileQuestionSetExpand ? 'mobile-responsive-question-container-expand' : 'mobile-responsive-question-container'">
    <div class="flex flex-row width-100 justify-between">
      <div>
        <p class="margin-bottom-m">
          <ng-container i18n="question number label"><span class="subheading-1">{{ 'practiceoverview.question' | translate }}</span></ng-container><span class="question-number">&nbsp;{{ questionNumber }}&nbsp;</span>
          <ng-container i18n="question number of total questions"><span class="question-number">{{ 'practiceoverview.of' | translate }}</span></ng-container>
          <span class="question-number">&nbsp;{{ total }}</span>
        </p>
      </div>
      <div class="flex flex-row align-center justify-around">
        <ng-container *ngIf="ePrimaryCategory.PRACTICE_RESOURCE === primaryCategory && ((questionNumber) <= totalQCount)">
          <div *ngIf="!isMobile"  class="cursor-pointer" [ngClass]="showAnswer ? 'rounded-flag':'rounded-flag-disable'">
            <div class="flex" (click)="checkAns(questionNumber)">
              <span>{{ 'playerbrief.showAnswer' | translate }}</span>
              
            </div>
          </div>
          <div *ngIf="isMobile"  class="cursor-pointer">
            <div class="flex" (click)="checkAns(questionNumber)">
              <img *ngIf="showAnswer" class="hw-24" src="assets/icons/final-assessment/view.svg"/>
              <img *ngIf="!showAnswer" class="hw-24" src="assets/icons/final-assessment/gray-eye.svg"/>
            </div>
          </div>
        </ng-container>        
        <div class=" flex flex-row align-center justify-around rounded-flag ml-10" *ngIf="!isMobile" [ngClass]="!isQuestionMarked() ? 'rounded-flag-disable': 'rounded-flag'">
          <div>
            <span>{{ 'playerbrief.flag' | translate }}</span>
          </div>
          <div>
            <button aria-label="flag" i18n-aria-label mat-icon-button (click)="markQuestion()" class="border0">
            <mat-icon class="gray-flag" *ngIf="!isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">outlined_flag</mat-icon>
            <mat-icon class="filled-flag" *ngIf="isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">flag</mat-icon>
            </button>
          </div>             
        </div>
        <div class=" flex flex-row align-center justify-around ml-2" *ngIf="isMobile">          
          <div>
            <button aria-label="flag" i18n-aria-label mat-icon-button (click)="markQuestion()" class="border0">
            <mat-icon *ngIf="!isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">outlined_flag</mat-icon>
            <mat-icon class="filled-flag" *ngIf="isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">flag</mat-icon>
            </button>
          </div>             
        </div>

      </div>
    </div>
    <div class="respo flex flex-column padding-top-m">
      <div class="flex flex-column respo_inner">
        <div class="flex flex-1">
          <h2 *ngIf="question.questionType !== 'ftb'" class="mat-h2" [innerHTML]="question?.question"
            class="quiz-question">
          </h2>
          <ng-container *ngIf="question.questionType === 'ftb'">
            <viewer-fitb-question [primaryCategory]="primaryCategory" class="flex-1" [question]="question"
              (update)="update($event)"></viewer-fitb-question>
          </ng-container>
        </div>
        <div class="flex flex-1">
          <!-- {{log(question)}} -->
          <ng-container *ngIf="question.questionType === 'mcq-mca'">
            <viewer-mcq-mca-question   [primaryCategory]="primaryCategory" class="flex-1" [question]="question" [itemSelectedList]="itemSelectedList1"
              (update)="update($event)">
            </viewer-mcq-mca-question>
          </ng-container>
  
          <ng-container *ngIf="question.questionType === 'mcq-sca'">
            <viewer-mcq-sca-question   [primaryCategory]="primaryCategory" class="flex-1" [question]="question" [itemSelectedList]="itemSelectedList1"
              (update)="update($event)"></viewer-mcq-sca-question>
          </ng-container>
          <ng-container *ngIf="question.questionType === 'mtf'">
            <viewer-mtf-question   [primaryCategory]="primaryCategory" class="flex-1" [question]="question" (update)="update($event)"></viewer-mtf-question>
            <div *ngIf="
            viewState !== 'review' &&
            numConnections &&
            matchHintDisplay.length !== 0
          " style="display: flex;flex-direction: column;">
              <p i18n="option explanation label">{{ 'practiceoverview.explanation' | translate }}</p>
              <table mat-table [dataSource]="matchHintDisplay" class="mat-elevation-z8">
                <ng-container matColumnDef="text">
                  <th mat-header-cell *matHeaderCellDef i18n="mtf explanation Option">
                    {{ 'practiceoverview.option' | translate }}
                  </th>
                  <td mat-cell *matCellDef="let element">{{ element.text }}</td>
                </ng-container>
                <ng-container matColumnDef="hint">
                  <th mat-header-cell *matHeaderCellDef i18n="mtf explanation Hint">
                    {{ 'practiceoverview.hint' | translate }}
                  </th>
                  <td mat-cell *matCellDef="let element" [innerHTML]="element.hint"></td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="['text', 'hint']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['text', 'hint']"></tr>
              </table>
            </div>
          </ng-container>
        </div>
      </div>
    </div> 
  </div>
  
</mat-card>
<!-- created a duplicate as design changed -->
<mat-card *ngIf="(question?.questionType === 'mtf' || question?.questionType === 'ftb')"
  class="flex flex-1 respo margin-bottom-m no-shadow">
  <div class="flex flex-column width-100" [ngClass]="mobileQuestionSetExpand ? 'mobile-responsive-question-container-expand' : 'mobile-responsive-question-container'">
  <!-- <div class="mtf-flag">
    <button aria-label="flag" i18n-aria-label mat-icon-button (click)="markQuestion()" class="rounded-flag">
      <mat-icon *ngIf="!isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">outlined_flag</mat-icon>
      <mat-icon *ngIf="isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">flag</mat-icon>
    </button>
  </div> -->
    <div class="flex flex-row width-100 justify-between">
      <div>
        <p class="margin-bottom-m">
          <ng-container i18n="question number label"><span class="subheading-1">{{ 'practiceoverview.question' | translate }}</span></ng-container><span class="question-number">&nbsp;{{ questionNumber }}&nbsp;</span>
          <ng-container i18n="question number of total questions"><span class="question-number">{{ 'practiceoverview.of' | translate }}</span></ng-container>
          <span class="question-number">&nbsp;{{ total }}</span>
        </p>
      </div>
      <div class="flex flex-row align-center justify-around">
        <ng-container *ngIf="ePrimaryCategory.PRACTICE_RESOURCE === primaryCategory && ((questionNumber) <= totalQCount)">
          <div *ngIf="!isMobile"  class="cursor-pointer" [ngClass]="showAnswer ? 'rounded-flag':'rounded-flag-disable'">
            <div class="flex" (click)="checkAns(questionNumber)">
              <span>{{ 'playerbrief.showAnswer' | translate }}</span>
              
            </div>
          </div>
          <div *ngIf="isMobile"  class="cursor-pointer">
            <div class="flex" (click)="checkAns(questionNumber)">
              <img *ngIf="showAnswer" class="hw-24" src="assets/icons/final-assessment/view.svg"/>
              <img *ngIf="!showAnswer" class="hw-24" src="assets/icons/final-assessment/gray-eye.svg"/>
            </div>
          </div>
        </ng-container>        
        <div class=" flex flex-row align-center justify-around rounded-flag ml-10" *ngIf="!isMobile" [ngClass]="!isQuestionMarked() ? 'rounded-flag-disable': 'rounded-flag'">
          <div>
            <span>{{ 'playerbrief.flag' | translate }}</span>
          </div>
          <div>
            <button aria-label="flag" i18n-aria-label mat-icon-button (click)="markQuestion()" class="border0">
            <mat-icon class="gray-flag" *ngIf="!isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">outlined_flag</mat-icon>
            <mat-icon class="filled-flag" *ngIf="isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">flag</mat-icon>
            </button>
          </div>             
        </div>
        <div class=" flex flex-row align-center justify-around ml-2" *ngIf="isMobile">          
          <div>
            <button aria-label="flag" i18n-aria-label mat-icon-button (click)="markQuestion()" class="border0">
            <mat-icon *ngIf="!isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">outlined_flag</mat-icon>
            <mat-icon class="filled-flag" *ngIf="isQuestionMarked()" matTooltip="{{'playerbrief.flagToolTip' | translate}}">flag</mat-icon>
            </button>
          </div>             
        </div>

      </div>
    </div>
    <div class="respo flex flex-column padding-top-m">
      <div class="flex flex-1- flex-column respo_inner">
        <div class="flex flex-1" *ngIf="question.questionType === 'mtf'">
          <div class="flex flex-1 flex-column">
            <div class="flex flex-1 viewer_quest_box">
              <!-- {{log(question)}} -->
              <ng-container>
                <viewer-mtf-question class="flex-1" [question]="question" (update)="update($event)"></viewer-mtf-question>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex flex-1 flex-center flex-column">
          <ng-container *ngIf="question.questionType !== 'ftb'">
            <h2 [innerHTML]="question?.question" class="m-auto quiz-question mat-h2 flex-center text-center">
            </h2>
            <span *ngIf="question?.instructions" class="flex-center text-center mat-subheading-2" i18n>
              {{ question?.instructions}}
            </span>
            <span class="flex-center text-center mat-subheading-2" i18n>
              Drag and drop numbers on the left to the corresponding
              circles on the right
            </span>
          </ng-container>
          <ng-container *ngIf="question.questionType === 'ftb'">
            <viewer-fitb-question   [primaryCategory]="primaryCategory" class="flex-1" [question]="question" (update)="update($event)"></viewer-fitb-question>
          </ng-container>
        </div>
      </div>
    </div>
   
  </div>
</mat-card>