<mat-tab-group [selectedIndex]="tabSelectedIndex" class="custom-tabgroup" (selectedTabChange)="tabClicked($event)">
    <mat-tab label="Overview">
        <ng-template matTabContent>
            <section id="overview">
                <div class="fixed-width flex flex-wrap">
                    <div class="meta-section">
                        <!-- Description : Conditional : If not shown here, will be shown over banner -->
                        <mat-card *ngIf="
                        tocConfig?.overview?.description?.enabled &&
                        showDescription &&
                        showSubtitleOnBanner &&
                        content?.description
                        " class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.description?.displayName }}</h2>
                            <mat-card-content>
                                <div class="section-content mat-body-1" [innerHTML]="sanitize(content?.description)">
                                </div>
                            </mat-card-content>
                        </mat-card>
                        <!-- Content Body -->
                        <mat-card *ngIf="tocConfig?.overview?.body?.enabled && content?.instructions"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.body?.displayName }}</h2>
                            <mat-card-content>
                                <div class="section-content mat-body-1" [innerHTML]="sanitize(content?.instructions)">
                                </div>
                            </mat-card-content>
                        </mat-card>
                        <!-- Learning objective -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.learningObjective?.enabled && content?.learningObjective"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.learningObjective?.displayName }}</h2>
                            <mat-card-content>
                                <p class="section-content mat-subheading-1" [innerHTML]="content?.learningObjective"></p>
                            </mat-card-content>
                        </mat-card> -->

                        <!-- Registration instructions -->
                        <!-- <mat-card *ngIf="
            tocConfig?.overview?.registrationInstructions?.enabled &&
            content?.registrationInstructions?.length
            " class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.registrationInstructions?.displayName }}</h2>
                            <mat-card-content>
                                <div class="section-content mat-subheading-1 break-words"
                                    [innerHTML]="content?.registrationInstructions"></div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.preContents?.enabled && content?.preContents?.length"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.preContents?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let preContent of content?.preContents">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + preContent.identifier"
                                    [queryParams]="{primaryCategory: preContent?.primaryCategory}">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">{{ preContent.name }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.postContents?.enabled && content?.postContents?.length"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.postContents?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let postContent of content?.postContents">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + postContent.identifier + '?primaryCategory='+ item.primaryCategory">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">{{ postContent.name }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.certificationList?.enabled && content?.certificationList?.length"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.certificationList?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let certification of content?.certificationList">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + certification.identifier + '?primaryCategory='+ item.primaryCategory">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">{{ certification.name }}
                                        </p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.studyMaterials?.enabled && content?.studyMaterials?.length"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.studyMaterials?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let studyitem of content?.studyMaterials">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + studyitem.identifier + '?primaryCategory='+ item.primaryCategory">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">{{ studyitem.name }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="
            tocConfig?.overview?.playgroundResources?.enabled && content?.playgroundResources?.length
            " class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.playgroundResources?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let playgroundResource of content?.playgroundResources">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + playgroundResource.identifier + '?primaryCategory='+ item.primaryCategory">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">
                                            {{ playgroundResource.name }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.kArtifacts?.enabled && content?.kArtifacts?.length"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.kArtifacts?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let kArtifact of content?.kArtifacts">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + kArtifact.identifier + '?primaryCategory='+ item.primaryCategory">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">{{ kArtifact.name }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="
            tocConfig?.overview?.equivalentCertifications?.enabled &&
            content?.equivalentCertifications?.length
            " class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.equivalentCertifications?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let equivalentCertification of content?.equivalentCertifications">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [routerLink]="'/app/toc/' + equivalentCertification.identifier +'?primaryCategory='+ item.primaryCategory">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">
                                            {{ equivalentCertification.name }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- <mat-card *ngIf="
            tocConfig?.overview?.softwareRequirements?.enabled && content?.softwareRequirements?.length
            " class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.softwareRequirements?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex mb-1" *ngFor="let softwareRequirement of content?.softwareRequirements">
                                    <span class="mr-1">
                                        <mat-icon class="align-bottom">web_asset</mat-icon>
                                    </span>
                                    <a class="ws-mat-primary-text" [href]="softwareRequirement.url" target="blank">
                                        <p class="section-content margin-remove-bottom mat-subheading-1">
                                            {{ softwareRequirement.title }}</p>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card> -->
                        <!-- Skills -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.skills?.enabled && content?.skills?.length"
                            class="unit-meta-item mat-app-background">
                            <h2 class="section-heading">{{ tocConfig?.overview?.skills?.displayName }}</h2>
                            <mat-chip-list>
                                <mat-chip class="section-content" *ngFor="let skill of content?.skills">{{ skill.name }}</mat-chip>
                            </mat-chip-list>
                        </mat-card> -->
                        <!-- Requirements -->
                        <!-- <mat-card *ngIf="tocConfig?.overview?.preRequisites?.enabled && content?.preRequisites"
                            class="unit-meta-item">
                            <h2 class="section-heading">{{ tocConfig?.overview?.preRequisites?.displayName }}</h2>
                            <mat-card-content>
                                <div class="mat-subheading-1" [innerHTML]="content?.preRequisites"></div>
                                <div class="margin-top-s" *ngIf="content?.softwareRequirements?.length">
                                    <h3 class="mat-h3 margin-bottom-xs" i18n>Software Requirements</h3>
                                    <ng-container *ngFor="let requirement of content?.softwareRequirements">
                                        <a *ngIf="requirement.url" class="margin-right-s" mat-stroked-button target="_blank"
                                            [href]="requirement.url">
                                            {{ requirement.title }}
                                        </a>
                                        <a mat-stroked-button class="margin-right-s"
                                            *ngIf="!requirement?.url">{{ requirement.title }}
                                        </a>
                                    </ng-container>
                                </div>
                            </mat-card-content>
                        </mat-card> -->

                        <!-- Training (LHub) -->
                        <!-- <mat-card *ngIf="trainingLHubEnabled && trainingLHubCount$ | async as trainingLHubCount"
                            class="unit-meta-item">
                            <h2 class="section-heading" i18n>Trainings</h2>
                            <h4 class="mat-h4">
                                <ng-container>{{ trainingLHubCount }}</ng-container>
                                <ng-container i18n="x trainings available" *ngIf="trainingLHubCount > 1">
                                    trainings available</ng-container>
                                <ng-container i18n="1 training available" *ngIf="trainingLHubCount === 1">
                                    training available</ng-container>
                            </h4>
                            <div>

                            </div>
                        </mat-card> -->

                        <!-- Related Topics -->
                        <!-- <mat-card class="unit-meta-item" *ngIf="tocConfig?.overview?.topics?.enabled && content?.topics?.length">
                            <h2 class="section-heading">{{ tocConfig?.overview?.topics?.displayName }}</h2>
                            <mat-card-content>
                                <div class="flex flex-between flex-wrapped">
                                    <a mat-stroked-button class="topic-button text-truncate"
                                        *ngFor="let topic of content?.topics | pipeLimitTo: (viewMoreRelatedTopics ? 24 : 6)"
                                        [title]="topic?.name" [routerLink]="'/app/concept-graph/' + topic.identifier">
                                        {{ topic?.name }}
                                    </a>
                                </div>
                                <div *ngIf="content?.topics?.length > 6" class="text-right margin-top-xs">
                                    <a mat-button (click)="viewMoreRelatedTopics = !viewMoreRelatedTopics">
                                        <span *ngIf="!viewMoreRelatedTopics" i18n>View More</span>
                                        <span *ngIf="viewMoreRelatedTopics" i18n>View Less</span>
                                    </a>
                                </div>
                            </mat-card-content>
                        </mat-card>
                        <div class="margin-bottom-m" *ngIf="objKeys(contentParents).length">
                            <mat-card>
                                <h2 i18n>This content is part of</h2>
                            </mat-card>
                            <mat-accordion>
                                <ng-container *ngFor="let key of objKeys(contentParents)">
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            {{ key }}
                                        </mat-expansion-panel-header>
                                        <div class="flex mb-1" *ngFor="let content of contentParents[key]">
                                            <span class="mr-1">
                                                <mat-icon class="align-bottom">web_asset</mat-icon>
                                            </span>
                                            <a class="ws-mat-primary-text" [routerLink]="
                    content.status !== 'Live'
                    ? '/author' + '/toc/' + content.identifier +'?primaryCategory='+ item.primaryCategory
                    : '/app' + '/toc/' + content.identifier + '?primaryCategory='+ item.primaryCategory
                ">
                                                <p class="margin-remove-bottom mat-subheading-1">{{ content.name }}</p>
                                            </a>
                                        </div>
                                    </mat-expansion-panel>
                                </ng-container>
                            </mat-accordion>
                        </div> -->
                    </div>
                </div>
            </section>
            <section id="authors" *ngIf="(content?.creatorDetails && content?.creatorDetails.length > 0) || (content?.creatorContacts && content?.creatorContacts.length > 0)  ||
                (cohortResults[cohortTypesEnum.AUTHORS] && cohortResults[cohortTypesEnum.AUTHORS].length > 0)">
                <div class="fluid-width contacts-container">
                    <div class="fixed-width flex flex-col flex-wrap">
                        <h2 _ngcontent-qml-c28="" class="mat-toolbar contacts-head">Authors and curators</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 col-gap-4">
                            <!-- authors -->
                            <div *ngFor="let author of parseJsonData(content?.creatorDetails)"
                                class="unit-cohort sm:pr-8 md:pr-10">
                                <!-- <ws-widget-user-image class="user-image" [imageType]="'user-photo'" [userName]="author.name || ''"
                                    [email]="author.email" [imageUrl]="author.photo || ''"></ws-widget-user-image> -->
                                <ws-widget-avatar-photo class="float-left margin-right-s " [randomColor]="true"
                                    [datalen]="parseJsonData(content?.creatorDetails).length"
                                    [size]="'m'" [photoUrl]="author.photo || ''" [name]="author.name" size="l-xs">
                                </ws-widget-avatar-photo>
                                <div class="margin-left-xl">
                                    <div class="user-name">{{ author.name }}</div>
                                    <p class="mat-body-2 ws-mat-black60-text">Author</p>
                                </div>
                            </div>
                            <!-- curators -->
                            <div *ngFor="let author of parseJsonData(content?.creatorContacts)"
                            class="unit-cohort sm:pr-8 md:pr-10">
                            <!-- <ws-widget-user-image class="user-image" [imageType]="'user-photo'" [userName]="author.name || ''"
                                [email]="author.email" [imageUrl]="author.photo || ''"></ws-widget-user-image> -->
                            <ws-widget-avatar-photo class="float-left margin-right-s" [randomColor]="true"
                                [datalen]="parseJsonData(content?.creatorContacts).length"
                                [size]="'m'" [photoUrl]="author.photo || ''" [name]="author.name" size="l-xs">
                            </ws-widget-avatar-photo>
                            <div class="margin-left-xl">
                                <div class="user-name">{{ author.name }}</div>
                                <p class="mat-body-2 ws-mat-black60-text">Curator</p>
                            </div>
                        </div>
                            <!-- <div *ngIf="cohortResults[cohortTypesEnum.AUTHORS]">
                                 <h3 *ngIf="cohortResults[cohortTypesEnum.AUTHORS].hasError" class="mat-error text-center" i18n>
                                    Failed to fetch curators
                                </h3>
                                <h3 *ngIf="
                                    !cohortResults[cohortTypesEnum.AUTHORS].hasError &&
                                    !cohortResults[cohortTypesEnum.AUTHORS].contents.length
                                    " class="text-center" i18n>
                                    None
                                </h3> 
                                <ng-container *ngFor="let cohort of cohortResults[cohortTypesEnum.AUTHORS].contents"
                                    [ngTemplateOutlet]="unitCohortNew1" [ngTemplateOutletContext]="{ user: cohort }">
                                </ng-container>
                            </div> -->
                        </div>
                    </div>
                </div>
            </section>
            <section id="competencies"
                *ngIf="(content?.competencies_v3 && competencies.length) || (content?.competencies && competencies.length)">
                <div class="fluid-width contacts-container mb-10">
                    <div class="fixed-width flex flex-col flex-wrap">
                        <h2 class="mat-toolbar contacts-head">Competencies</h2>
                    </div>
                    <div>
                        <table class="compt-table width-1-1 text-left">
                            <tr>
                                <th class="padding-xs ws-mat-black60-text mat-body-1">Competency</th>
                                <th class="padding-xs ws-mat-black60-text mat-body-1">Type</th>
                            </tr>
                            <tr *ngFor="let comp of competencies">
                                <td class="padding-xs mat-body-1">{{comp.name}}</td>
                                <td class="padding-xs mat-body-1">{{comp.competencyType}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>
            <section id="rating" *ngIf="!forPreview">
                <div class="fluid-width contacts-container mb-10">
                    <div class="fixed-width flex flex-col flex-wrap">
                        <h2 class="mat-toolbar contacts-head">Ratings and reviews</h2>
                    </div>
                    <ws-widget-rating-summary [ratingSummary]="ratingSummaryProcessed"></ws-widget-rating-summary>

                    <div class="search">
                        <form [formGroup]="searchForm">
                            <div class="flex top_search_box">
                                <div class="flex-1 search_box_inner">
                                    <div class="flex flex-1 flex-column margin-fix search search_box_main">
                                        <mat-form-field appearance="outline"
                                            class="autocomplete-form search_form margin-right-s" color="primary">
                                            <mat-icon matPrefix
                                                class="search-home flex items-center justify-center mr-2">search
                                            </mat-icon>
                                            <!-- <mat-label>Search</mat-label> -->
                                            <input type="search" name="searchKey" #searchKey class="ml-2" i18-aria-label
                                                aria-label="Search" formControlName="searchKey"
                                                i18n-placeholder="search" [placeholder]="'Search'" matInput />
                                            <!-- (input)="updateQuery(searchKey.value)" -->
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="item_dropdown_box">
                                    <div class="flex flex-1 flex-wrap section-input">
                                        <div class="item">

                                            <mat-form-field class="" appearance="outline">
                                                <mat-select #sortBySelect formControlName="sortByControl"
                                                    i18n-placeholder placeholder="Sort by">
                                                    <mat-option [value]="'topReviews'" slected>Top reviews
                                                    </mat-option>
                                                    <mat-option [value]="'latestReviews'">Latest reviews</mat-option>
                                                </mat-select>
                                            </mat-form-field>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- <div class="rating-comments">
                        <ng-container *ngFor="let c of ratingReviews| 
                        pipeFilterV3:{ 'user_id': searchKey.value, 'review': searchKey.value } : false |
                        slice:0:ratingViewCount; let i= index; let last = last">
                            <ws-widget-card-rating-comment [review]="c"></ws-widget-card-rating-comment>
    
                            <div class="flex items-center justify-center mb-2 mt-8 ws-mat-accent-text view-all" 
                            *ngIf="ratingReviews?.length > 3 && ratingViewCount <=3 && i>=2 && last">
                                <a mat-button class="padding-top-xs padding-bottom-xs w-full " 
                                (click)="showALLReviews(ratingReviews?.length)">
                                    <span i18n>SEE ALL {{ratingReviews?.length}} REVIEWS</span>
                                </a>
                            </div>
                            <div class="flex items-center justify-center mb-2 mt-8 ws-mat-accent-text view-all" 
                            *ngIf="ratingReviews?.length > 3 && ratingViewCount > 3 && i>=2 && last">
                                <a mat-button class="padding-top-xs padding-bottom-xs w-full " (click)="showALLReviews(3)">
                                    <span i18n>SEE LESS REVIEWS</span>
                                </a>
                            </div>
                        </ng-container>
                    </div> -->
                    <div class="rating-comments" *ngIf="ratingReviews">
                        <div infiniteScroll
                        [infiniteScrollDistance]="1"
                        [infiniteScrollThrottle]="150"
                        [infiniteScrollContainer]="'.rating-comments'"
                        [fromRoot]="true"
                        [scrollWindow]="false"
                        (scrolled)="loadMore()">
                            <ng-container *ngFor="let c of ratingReviews| 
                            pipeFilterV3:{ 'firstName': searchKey.value, 'lastName': searchKey.value, 'review': searchKey.value } : false; let i= index; let last = last">
                                <ws-widget-card-rating-comment [review]="c" [contentid]="content?.identifier"></ws-widget-card-rating-comment>
                            </ng-container>
                        </div>
                        <div *ngIf="displayLoader" class="mt-5 pr-4 flex items-center justify-center">
                            <mat-spinner [diameter]="30"></mat-spinner>
                        </div>
                        <h4 *ngIf="(ratingReviews | pipeFilterV3:{ 'firstName': searchKey.value, 'lastName': searchKey.value, 'review': searchKey.value } : false)?.length <=0 
                        && (displayLoader  === false)" class="w-full text-left ws-mat-black60-text ">
                            No reviews found! 
                         </h4>
                    </div>
                </div>
            </section>
        </ng-template>
    </mat-tab>
    <mat-tab label="Content" *ngIf="content?.children?.length">
        <ng-template matTabContent>
            <section id="content">
                <div class="fixed-width">
                    <ws-app-app-toc-contents [batchId]="batchId" [content]="content" [forPreview]="forPreview">
                    </ws-app-app-toc-contents>
                </div>
            </section>
        </ng-template>
    </mat-tab>
    <mat-tab label="Discussion" *ngIf="!forPreview">
        <ng-template matTabContent>
            <section id="discussion-forum">
                <div class="fixed-width toc-discussion-container">
                    <!-- <ws-app-toc-discussion [content]="content" class="discussion"></ws-app-toc-discussion> -->
                    <all-discussion-widget style=' width: 100%;' [config]="discussionConfig"></all-discussion-widget>
                </div>
            </section>
        </ng-template>
    </mat-tab>
    <mat-tab label="Learners" *ngIf="!forPreview">
        <ng-template matTabContent>
            <div *ngIf="cohortResults[cohortTypesEnum.ACTIVE_USERS]">
                <h3 *ngIf="cohortResults[cohortTypesEnum.ACTIVE_USERS].hasError" class="mat-error text-center" i18n>
                    Failed to fetch active users
                </h3>
                <h3 *ngIf="
                    !cohortResults[cohortTypesEnum.ACTIVE_USERS].hasError &&
                    !cohortResults[cohortTypesEnum.ACTIVE_USERS].contents.length
                    " class="text-center" i18n>
                    None
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 col-gap-4">
                    <ng-container *ngFor="let cohort of cohortResults[cohortTypesEnum.ACTIVE_USERS].contents"
                        [ngTemplateOutlet]="unitCohortNew" [ngTemplateOutletContext]="{ user: cohort }">
                    </ng-container>
                </div>
            </div>
        </ng-template>
    </mat-tab>
</mat-tab-group>



<!-- <section id="cohorts">
    <div class="fixed-width toc-discussion-container">
        <ws-app-toc-cohorts [content]="content" class="cohorts"></ws-app-toc-cohorts>
    </div>
</section> -->

<ng-template #unitCohortNew1 let-user="user">
    <div class="unit-cohort sm:pr-8 md:pr-10">
        <ws-widget-avatar-photo class="float-left margin-right-s" [size]="'m'" [photoUrl]="user.photo || ''"
            [name]="getUserFullName(user)" size="l-xs">
        </ws-widget-avatar-photo>
        <div class="margin-left-l">
            <div (click)="goToUserProfile(user)" [ngClass]="{'cursor-pointer': enablePeopleSearch}"
                class="width-expand padding-left-xs">
                <div class="mat-body-1 cohorts-name">
                    {{
                    { firstName: user.first_name, lastName: user.last_name, email: user.email }
                    | pipeNameTransform
                    }}
                </div>
                <p class="mat-body-2 ws-mat-black60-text">Curator</p>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #unitCohortNew let-user="user">
    <div class="unit-cohort sm:pr-8 md:pr-10">
        <!-- <ws-widget-user-image class="user-image" [imageType]="'user-photo'" [userName]="getUserFullName(user)"
        [imageSize]="'small'" [email]="user.email" [imageUrl]="user.photo || ''"></ws-widget-user-image> -->
        <ws-widget-avatar-photo class="float-left margin-right-s" [size]="'m'" [photoUrl]="user.photo || ''"
            [name]="getUserFullName(user)" size="l-xs">
        </ws-widget-avatar-photo>
        <div class="margin-left-l">
            <div (click)="goToUserProfile(user)" [ngClass]="{'cursor-pointer': enablePeopleSearch}"
                class="width-expand padding-left-xs">
                <!-- <div class="mat-body-1 cohorts-name">
                {{
                    { firstName: user.first_name, lastName: user.last_name, email: user.email }
                    | pipeNameTransform
                }}
            </div> -->
                <ws-widget-connection-name
                    [hoverUser]="{firstName: user.first_name, lastName:user.last_name , id:user.uid,designation: user.designation,department:user.department}">
                </ws-widget-connection-name>
                <!-- {{user | json}} -->
                <p class="mat-body-2 ws-mat-black60-text">{{user.designation}}</p>
                <!-- <div class="mat-caption cohorts-desc">{{ user.desc }}</div>
            </div>
            <div class="width-auto user-action-container">
            <ws-widget-btn-mail-user [widgetData]="{ content: content, emails: [user.email], user: user }">
            </ws-widget-btn-mail-user>
            <ws-widget-btn-call *ngIf="user.phone_No !== '0'" [widgetData]="{
                    userName:
                    {
                        firstName: user.first_name,
                        lastName: user.last_name,
                        email: user.email
                    } | pipeNameTransform,
                    userPhone: user.phone_No
                }"></ws-widget-btn-call> -->
            </div>
        </div>
    </div>
</ng-template>