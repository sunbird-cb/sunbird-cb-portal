<div class="flex flex-4 flex-column margin-bottom-xl">
  <div class="flex flex-1 custom">
    <!-- <div class="flex-1" style="position: relative;">
      <div #stickyMenu [class.sticky]="sticky">
        <app-competence-left-menu [tabsData]="tabsData" class="flex flex-1"></app-competence-left-menu>
      </div>
    </div> -->
    <div class="flex-3">
      <div class="w-full pt-5">
        <div class="flex flex-1 flex-column margin-fix mb-2" role="link" tabindex="0">
          <span class="mat-subheading-1">
            {{'competencies.allCompetencies' | translate}}
          </span>
        </div>
        <div class="flex flex-1 flex-row margin-fix search">
          <form (submit)="updateQuery(queryControl.value)" class="flex-1 search_form">
            <mat-form-field appearance="outline" class="autocomplete-form" color="primary" [floatLabel]="'never'">
              <mat-icon matPrefix class="flex items-center justify-center">search</mat-icon>
              <mat-label>{{'competencies.search' | translate}}</mat-label>
              <input type="search" ng-model="searchText" #searchInput class="ml-2 flex-1"
              placeholder="{{'competencies.search' | translate}}"
              aria-label="Search" matInput [formControl]="queryControl" maxlength="50" />
            </mat-form-field>
          </form>
          <!-- <div class="ml-4 mr-6 mb-2 view-more ws-mat-accent-text view-all ws-mat-primary-lite-background-important"> -->
          <button class="margin-top-s" mat-icon-button (click)="resetSearch()">
            <mat-icon>refresh</mat-icon>
          </button>
          <!-- </div> -->
        </div>
        <div class="flex flex-column flex-wrap margin-fix">
          <ng-container *ngIf="filteredCompetencies && filteredCompetencies.length > 0">
            <ng-container *ngFor="let comp of filteredCompetencies | pipeFilterV2:'name': searchInput.value">
              <app-competence-card [data]="comp" [isSelected]="comp.id === selectedId"
                (setSelected)="setSelectedCompetency($event)" (addComp)="addCompetency($event)"
                (delComp)="deleteCompetency($event)">
              </app-competence-card>
            </ng-container>
          </ng-container>
        </div>
        <div class="flex flex-1 flex-column margin-fix pagination-container">
          <!-- <ws-app-careers-pagination [pager]="pager" (changePage)="navigateWithPage($event)">
          </ws-app-careers-pagination> -->
        </div>
      </div>
    </div>
    <div class="flex flex-1 custom">
      <!-- <div class="flex-1" style="position: relative;">
        <div #stickyMenu [class.sticky]="sticky">
          <app-competence-right-menu class="flex flex-1"></app-competence-right-menu>
        </div>
      </div> -->
    </div>
  </div>
</div>

<input type="hidden" i8n-value value="Something went wrong! Please try again later." #failMsg />
<input type="hidden" i8n-value value="Competency added successfully!!" #successMsg />
<input type="hidden" i8n-value value="Competency removed successfully!!" #successRemoveMsg />
