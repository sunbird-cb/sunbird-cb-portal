<div class="container-balanced custom-container-width">
    <div *ngIf="competencyData">
        <div class="flex flex-row top_content_box">
            <div class="left_content_box">
                <h2 class="mat-h2  inline-block "> {{competencyData?.name }}</h2>
                <div>
                    <p class="mat-body-1 ws-mat-black60-text">{{competencyData?.description}}</p>


                    <p class="mat-body-1 ws-mat-black60-text highlight_point_text">
                        {{'competencyDetailedView.type' | translate }}
                        <span
                            class="mat-primary mat-subheading-1">{{competencyData?.additionalProperties?.competencyType}}</span>
                    </p>
                    <p class="mat-body-1 ws-mat-black60-text highlight_point_text">
                        {{'competencyDetailedView.area' | translate }}
                        <span
                            class="mat-primary mat-subheading-1">{{competencyData?.additionalProperties?.competencyArea}}</span>
                    </p>

                </div>
            </div>

            <div class="right_button_box">
                <mat-card>
                    <mat-card-content>
                        <button mat-button color="default" type="button" class="small-button blue-border flex-auto-display mat-button" (click)=view(competencyData) *ngIf="isAdded === false">

                            <!-- <span class="ws-mat-default-text" i18n>Add to your competencies</span> -->
                            <span class="ws-mat-default-text" i18n>{{'competencyDetailedView.selfAttestCompetency' | translate }}</span>
                        </button>

                        <button mat-button color="default" type="button" class="small-button blue-border flex-auto-display mat-button" (click)=remove(competencyData) *ngIf="isAdded === true">
                            <span class="ws-mat-default-text" i18n>{{'competencyDetailedView.removeFromYourCompetencies' | translate }}</span>
                        </button>

                        <!-- <button mat-button color="default" type="button" class="small-button view-all flex-auto-display mat-button">

                            <span class="ws-mat-default-text" i18n>Mark as desired competency</span>
                        </button> -->
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="flex flex-column flex-wrap margin-fix margin-top-56">
            <div class="card_title_box flex flex-row justify-start margin-bottom-s">
                <div class="left_title_div">
                    <p class="margin-remove ws-mat-black60-text mat-subheading-2">{{'competencyDetailedView.level' | translate }}</p>
                </div>
                <div class="right_title_div">
                    <p class="margin-remove ws-mat-black60-text mat-subheading-2">{{'competencyDetailedView.description' | translate }}</p>
                </div>
            </div>
            <ng-container *ngIf="competencyData && competencyData?.children && competencyData?.children.length > 0">
                <ng-container *ngFor="let comp of competencyData?.children">
                    <ws-app-competency-level-card [data]="comp"></ws-app-competency-level-card>
                </ng-container>
            </ng-container>
            <!-- <ng-container>
                <div class="left_content_box">
                    <h2 class="mat-h2 margin-remove inline-block "> Related CBPs </h2>
                    <div>
                        <p class="mat-body-2 ws-mat-black60-text"> {{courses?.length || 0 }} CBPs for “{{competencyData?.name}}”</p>
                    </div>
                    <ng-container *ngIf="courses && courses.length; else noData">
                        <ng-container *ngFor="let c of courses">
                            <ws-widget-card-content [widgetData]="{
                                content: c,
                                cardSubType: ''
                            }">
                            </ws-widget-card-content>
                        </ng-container>
                    </ng-container>
                    <ng-template #noData>
                        <h4 *ngIf="courses?.length <=0 && !(displayLoader | async)"
                            class="w-full text-center ws-mat-black60-text ">
                            No CBPs found!
                        </h4>
                    </ng-template>
                </div>
            </ng-container> -->

        </div>
    </div>
    <div class="flex flex-wrap fix-w related_cbp_box">
        <div class="margin-top-m border-bottom-m box new-box w-full">
            <ng-template [wsResolverWidget]="jsonConfigForCBP"></ng-template>
          </div>
    </div>

</div>

