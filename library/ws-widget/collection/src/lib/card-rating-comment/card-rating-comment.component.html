<mat-card class="comments-card margin-bottom-m position-relative mat-card">
    <a href="javascript:void(0)" role="button">
        <mat-card-content>
            <div class="card_inner_content flex">
                <div class="margin-right-m">
                    <ng-container *ngIf="review?.firstName">
                        <ws-widget-avatar-photo [name]="getFullName(review)" [size]="'m'"
                            [photoUrl]=""></ws-widget-avatar-photo>
                    </ng-container>
                    <ng-container *ngIf="!review?.firstName">
                        <ws-widget-avatar-photo [name]="review?.user_id" [size]="'m'"
                            [photoUrl]=""></ws-widget-avatar-photo>
                    </ng-container>
                </div>

                <div class="flex-col align-left">
                    <div class="name margin-bottom-xs">
                        <ng-container *ngIf="review?.firstName">
                            {{getFullName(review)}}
                        </ng-container>
                        <ng-container *ngIf="!review?.firstName">
                            {{review.user_id}}
                        </ng-container>
                    </div>
                    <div class="flex items-center ">
                        <span class="margin-right-xs ws-mat-orange-text mat-body-1"> {{review.rating}} </span>
                        <mat-icon
                            class="comments-rating mr-1 mat-icon material-icons ws-mat-black16-text"
                            [ngClass]="{'ws-mat-orange-text': getRatingIconClass(rating, review.rating )}"
                            *ngFor="let rating of [1, 2, 3, 4, 5]">
                            {{ getRatingIcon(rating, review.rating) }}</mat-icon>
                        <!--  <span i18n>from</span> -->
                        <span *ngIf="review?.date" class="margin-left-s  ws-mat-black60-text mat-body-1"> {{review.date | pipeRelativeTime}}
                        </span>
                        <span *ngIf="review?.updatedon" class="margin-left-s  ws-mat-black60-text mat-body-1"> {{review.updatedon | pipeRelativeTime}}
                        </span>
                    </div>
                    <div class="margin-top-m mat-body-1 break-all">
                        {{review.review}}
                    </div>
                    <div *ngIf="authorReply" class="margin-top-m">
                        <a class="custom-link" (click)="showAuthReply()">View reply</a>
                        <div class="margin-top-m mat-body-1 break-all" *ngIf="showauthreply">
                            {{authorReply}}
                        </div>
                    </div>
                </div>
            </div>
        </mat-card-content>
    </a>
</mat-card>